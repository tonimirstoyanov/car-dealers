{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\car-dealers-react\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport styles from './Login.module.css';\nimport { useHistory } from 'react-router';\nimport { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as authService from '../../services/authService.js';\nimport { AuthContext } from '../../context/authContext.js';\nimport { isGuest } from '../../hoc/isGuest.js';\nimport { NotificationContext } from '../../context/notificationContext.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const {\n    login\n  } = useContext(AuthContext);\n  const {\n    successAlert\n  } = useContext(NotificationContext);\n  let history = useHistory();\n\n  const loginSubmitHandler = e => {\n    e.preventDefault();\n    let formData = new FormData(e.currentTarget);\n    let {\n      email,\n      password\n    } = Object.fromEntries(formData);\n    authService.login(email, password).then(result => {\n      login(result);\n      successAlert('Successful login');\n      history.push('/');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: styles['login-box'],\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"login\",\n        method: \"POST\",\n        onSubmit: loginSubmitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['login-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            name: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['login-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"login-password\",\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['sing-in'],\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.acc,\n            children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n              to: '/register',\n              children: \"Sing up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 74\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"UjV5HfyjdaHH5umbaETJE9i6ww4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default _c2 = isntGuest(Login);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/User/Desktop/car-dealers-react/client/src/components/Login/Login.js"],"names":["styles","useHistory","useContext","Link","authService","AuthContext","isGuest","NotificationContext","Login","login","successAlert","history","loginSubmitHandler","e","preventDefault","formData","FormData","currentTarget","email","password","Object","fromEntries","then","result","push","catch","err","console","log","acc","isntGuest"],"mappings":"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","sourcesContent":["import styles from './Login.module.css';\r\n\r\nimport { useHistory } from 'react-router';\r\nimport { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport * as authService from '../../services/authService.js'\r\nimport { AuthContext } from '../../context/authContext.js'\r\nimport { isGuest } from '../../hoc/isGuest.js';\r\nimport { NotificationContext } from '../../context/notificationContext.js';\r\n\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const { login } = useContext(AuthContext)\r\n    const { successAlert } = useContext(NotificationContext)\r\n    let history = useHistory()\r\n    const loginSubmitHandler = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n\r\n        let formData = new FormData(e.currentTarget)\r\n        let { email, password } = Object.fromEntries(formData);\r\n\r\n        authService.login(email, password)\r\n            .then(result => {\r\n                login(result)\r\n                successAlert('Successful login')\r\n                history.push('/')\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <section className={styles['login-box']}>\r\n                <form id=\"login\" method=\"POST\" onSubmit={loginSubmitHandler}>\r\n                    <h2>Login</h2>\r\n                    <div className={styles['login-field']}>\r\n                        <input type=\"email\" id=\"email\" name=\"email\" />\r\n                        <label>Email</label>\r\n                    </div>\r\n                    <div className={styles['login-field']}>\r\n                        <input type=\"password\" id=\"login-password\" name=\"password\" />\r\n                        <label>Password</label>\r\n                    </div>\r\n                    <button type=\"submit\">Submit</button>\r\n                    <div className={styles['sing-in']}>\r\n                        <p className={styles.acc}>Don't have an account? <Link to={'/register'}>Sing up</Link></p>\r\n                    </div>\r\n                </form>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\nexport default isntGuest(Login);"]},"metadata":{},"sourceType":"module"}