{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\car-dealers-react\\\\src\\\\components\\\\Edit\\\\Edit.js\",\n    _s = $RefreshSig$();\n\nimport styles from './Edit.module.css';\nimport * as carService from '../../services/carService.js';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport { AuthContext } from '../../context/authContext.js';\nimport Spinner from '../Common/Spinner/Spinner.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst categories = [{\n  value: 'cabriolet',\n  text: 'Cabriolet'\n}, {\n  value: 'small-car',\n  text: 'Small Car'\n}, {\n  value: 'suv/off-road',\n  text: 'SUV/Off-road'\n}, {\n  value: 'estate',\n  text: 'Estate Car'\n}, {\n  value: 'saloon',\n  text: 'Saloon'\n}, {\n  value: 'sports car/coupe',\n  text: 'Sports Car/Couper'\n}, {\n  value: 'van',\n  text: 'Van'\n}];\nconst fuels = [{\n  value: 'petrol',\n  text: 'Petrol'\n}, {\n  value: 'diesel',\n  text: 'Diesel'\n}, {\n  value: 'electric',\n  text: 'Electric'\n}, {\n  value: 'lpg',\n  text: 'LPG'\n}, {\n  value: 'hybrid',\n  text: 'Hybrid'\n}, {\n  value: 'hydrogen',\n  text: 'Hydrogen'\n}];\nconst gearboxes = [{\n  value: 'manual',\n  text: 'Manual'\n}, {\n  value: 'semi-automatic',\n  text: 'Semi-automatic'\n}, {\n  value: 'automatic',\n  text: 'Automatic'\n}];\n\nconst Edit = _ref => {\n  _s();\n\n  let {\n    match\n  } = _ref;\n  let history = useHistory();\n  const carId = match.params.carId;\n  const [car, setCar] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  let {\n    user\n  } = useContext(AuthContext);\n  useEffect(() => {\n    carService.getOne(carId).then(result => {\n      setCar(result);\n    });\n  }, [carId]);\n\n  const carEditSumbitHandler = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    let formData = new FormData(e.currentTarget);\n    let carData = Object.fromEntries(formData);\n    console.log(carData);\n    setTimeout(() => {\n      carService.updateOne(carId, carData, user.accessToken).then(res => {\n        console.log(res);\n        setIsLoading(false);\n        setCar(res);\n        history.push(`/car/${carId}/details`);\n      });\n    }, 5000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: styles['edit-box'],\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit Ad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"edit\",\n        method: \"PUT\",\n        onSubmit: carEditSumbitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"brand\",\n            id: \"brand\",\n            defaultValue: car.brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            id: \"price \",\n            defaultValue: car.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"year\",\n            id: \"year\",\n            defaultValue: car.year\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            className: styles['category-label'],\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"category\",\n            className: styles.category,\n            value: car.category,\n            onChange: e => setCar(st => ({ ...st,\n              category: e.target.value\n            })),\n            children: categories.map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: x.value,\n              children: x.text\n            }, x.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 54\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"mileage\",\n            id: \"mileage\",\n            defaultValue: car.mileage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Mileage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"horsePower\",\n            id: \"horse-power\",\n            defaultValue: car.horsePower\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Horse Power\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"fuel\",\n            className: styles['fuel-label'],\n            children: \"Fuel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"fuel\",\n            className: styles.fuel,\n            value: car.fuel,\n            onChange: e => setCar(st => ({ ...st,\n              fuel: e.target.value\n            })),\n            children: fuels.map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: x.value,\n              children: x.text\n            }, x.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 49\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"gearbox\",\n            className: styles['gearbox-label'],\n            children: \"Gearbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"gearbox\",\n            className: styles.gearbox,\n            value: car.gearbox,\n            onChange: e => setCar(st => ({ ...st,\n              gearbox: e.target.value\n            })),\n            children: gearboxes.map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: x.value,\n              children: x.text\n            }, x.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 53\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"color\",\n            id: \"color\",\n            defaultValue: car.color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"extras\",\n            id: \"extras\",\n            defaultValue: car.extras\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Extras\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"description\",\n            id: \"description\",\n            defaultValue: car.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"location\",\n            id: \"location\",\n            defaultValue: car.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"contactNumber\",\n            id: \"contact-number\",\n            defaultValue: car.contactNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Contact Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['edit-field'],\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"imageUrl\",\n            id: \"imageUrl\",\n            defaultValue: car.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles['btn-submit'],\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(Edit, \"67Scpuxn3Gzg0kPmLz14TJxsQO4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["C:/Users/User/Desktop/car-dealers-react/src/components/Edit/Edit.js"],"names":["styles","carService","useState","useEffect","useContext","useHistory","AuthContext","Spinner","categories","value","text","fuels","gearboxes","Edit","match","history","carId","params","car","setCar","isLoading","setIsLoading","user","getOne","then","result","carEditSumbitHandler","e","preventDefault","formData","FormData","currentTarget","carData","Object","fromEntries","console","log","setTimeout","updateOne","accessToken","res","push","brand","price","year","category","st","target","map","x","mileage","horsePower","fuel","gearbox","color","extras","description","location","contactNumber","imageUrl"],"mappings":"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","sourcesContent":["import styles from './Edit.module.css'\r\n\r\nimport * as carService from '../../services/carService.js'\r\n\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { AuthContext } from '../../context/authContext.js'\r\nimport Spinner from '../Common/Spinner/Spinner.js'\r\n\r\n\r\nconst categories = [\r\n    { value: 'cabriolet', text: 'Cabriolet' },\r\n    { value: 'small-car', text: 'Small Car' },\r\n    { value: 'suv/off-road', text: 'SUV/Off-road' },\r\n    { value: 'estate', text: 'Estate Car' },\r\n    { value: 'saloon', text: 'Saloon' },\r\n    { value: 'sports car/coupe', text: 'Sports Car/Couper' },\r\n    { value: 'van', text: 'Van' },\r\n]\r\n\r\nconst fuels = [\r\n    { value: 'petrol', text: 'Petrol' },\r\n    { value: 'diesel', text: 'Diesel' },\r\n    { value: 'electric', text: 'Electric' },\r\n    { value: 'lpg', text: 'LPG' },\r\n    { value: 'hybrid', text: 'Hybrid' },\r\n    { value: 'hydrogen', text: 'Hydrogen' },\r\n]\r\n\r\nconst gearboxes = [\r\n    { value: 'manual', text: 'Manual' },\r\n    { value: 'semi-automatic', text: 'Semi-automatic' },\r\n    { value: 'automatic', text: 'Automatic' },\r\n]\r\n\r\nconst Edit = ({ match }) => {\r\n\r\n    let history = useHistory()\r\n    const carId = match.params.carId\r\n    const [car, setCar] = useState({})\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    let { user } = useContext(AuthContext)\r\n\r\n\r\n    useEffect(() => {\r\n        carService.getOne(carId)\r\n            .then(result => {\r\n                setCar(result)\r\n            })\r\n    }, [carId])\r\n\r\n    const carEditSumbitHandler = (e) => {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n        let formData = new FormData(e.currentTarget)\r\n        let carData = Object.fromEntries(formData)\r\n\r\n        console.log(carData)\r\n\r\n        setTimeout(() => {\r\n            carService.updateOne(carId, carData, user.accessToken)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    setIsLoading(false)\r\n                    setCar(res)\r\n                    history.push(`/car/${carId}/details`)\r\n                })\r\n\r\n        }, 5000)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isLoading ? <Spinner /> :\r\n                <section className={styles['edit-box']}>\r\n                    <h2>Edit Ad</h2>\r\n                    <form id=\"edit\" method=\"PUT\" onSubmit={carEditSumbitHandler}>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"text\" name=\"brand\" id=\"brand\" defaultValue={car.brand} />\r\n                            <label>Brand</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"number\" name=\"price\" id=\"price \" defaultValue={car.price} />\r\n                            <label>Price</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"number\" name=\"year\" id=\"year\" defaultValue={car.year} />\r\n                            <label>Year</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <label htmlFor=\"category\" className={styles['category-label']}>Category</label>\r\n                            <select name=\"category\" className={styles.category} value={car.category} onChange={(e) => setCar(st => ({ ...st, category: e.target.value }))}>\r\n                                {categories.map(x => <option key={x.value} value={x.value}>{x.text}</option>)}\r\n                            </select>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"number\" name=\"mileage\" id=\"mileage\" defaultValue={car.mileage} />\r\n                            <label>Mileage</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"number\" name=\"horsePower\" id=\"horse-power\" defaultValue={car.horsePower} />\r\n                            <label>Horse Power</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <label htmlFor=\"fuel\" className={styles['fuel-label']}>Fuel</label>\r\n                            <select name=\"fuel\" className={styles.fuel} value={car.fuel} onChange={(e) => setCar(st => ({ ...st, fuel: e.target.value }))}>\r\n                                {fuels.map(x => <option key={x.value} value={x.value}>{x.text}</option>)}\r\n                            </select>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <label htmlFor=\"gearbox\" className={styles['gearbox-label']}>Gearbox</label>\r\n                            <select name=\"gearbox\" className={styles.gearbox} value={car.gearbox} onChange={(e) => setCar(st => ({ ...st, gearbox: e.target.value }))}>\r\n                                {gearboxes.map(x => <option key={x.value} value={x.value}>{x.text}</option>)}\r\n                            </select>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"text\" name=\"color\" id=\"color\" defaultValue={car.color} />\r\n                            <label>Color</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"text\" name=\"extras\" id=\"extras\" defaultValue={car.extras} />\r\n                            <label>Extras</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"text\" name=\"description\" id=\"description\" defaultValue={car.description} />\r\n                            <label>Description</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"text\" name=\"location\" id=\"location\" defaultValue={car.location} />\r\n                            <label>Location</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"number\" name=\"contactNumber\" id=\"contact-number\" defaultValue={car.contactNumber} />\r\n                            <label>Contact Number</label>\r\n                        </div>\r\n                        <div className={styles['edit-field']}>\r\n                            <input type=\"text\" name=\"imageUrl\" id=\"imageUrl\" defaultValue={car.imageUrl} />\r\n                            <label>Image</label>\r\n                        </div>\r\n                        <button className={styles['btn-submit']} type=\"submit\">Submit</button>\r\n                    </form>\r\n                </section>}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Edit;"]},"metadata":{},"sourceType":"module"}